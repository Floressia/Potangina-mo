;/*FB_PKG_DELIM*/

__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:9265","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9265")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWJumpToMessageWrapper",["useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWJumpToMessage")(a.source)}g["default"]=a}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","I64","JSResourceForInteraction","LSIntEnum","MWBroadcastChannelLoggingShapes","MWChatTextFormatting","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","react","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useMemo,o={pinnedMessagesWrapper:{alignItems:"x6s0dn4",borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",display:"x78zum5",$$css:!0},row:{backgroundColor:"xfpmyvw",height:"x10wjd1d",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},p=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function q(a){if(a==null)return"";var b=a.text;if(b!=null&&b!==""){var c=d("MWChatTextFormatting").getFormattingRanges(b)[0];return(c=c==null?void 0:(c=c.entity)==null?void 0:c.text)!=null?c:d("MWUnvaultedText").getMWUnvaultedText(!1,b)}if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(2)))return h._("__JHASH__xgjHlv2kQPY__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4)))return h._("__JHASH__X9DncealQbJ__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4096)))return h._("__JHASH__rZqTMZ7dJmB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(16384)))return h._("__JHASH__qqvxkP_nlPB__JHASH__");return""}function a(a){var b=a.thread;a=c("useMWXLazyDialog")(p);var e=a[0],g=(i||(i=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return b==null?d("ReQL").empty():d("ReQL").fromTableDescending(g.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(b.threadKey).map(function(a){a=a.messageId;var b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(g.tables.messages.index("messageId")).getKeyRange(a),f.id+":154");return{message:b,pinnedMessageId:a}})},[g,b],f.id+":145");a=d("MWPActor.react").useActor();var l=c("useMWJumpToMessageWrapper")({source:"Pinned"}),r=(j==null?void 0:j.length)>0?j[0].message:null,s=d("ReQLSuspense").useFirst(function(){return(r==null?void 0:r.senderId)!=null?d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(r.senderId):d("ReQL").empty()},[r==null?void 0:r.senderId,g],f.id+":170"),t=n(function(){return q(r)},[r]);return j.length===0?null:m.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__uKLUxuQU_CD__JHASH__",[h._param("lastPinnedMessage",t)]),display:"inline",expanding:!0,onPress:function(){if(j.length===1){var a=j[0].message;a!=null&&a.messageId!=null&&a.timestampMs!=null&&l(a.messageId,a.timestampMs)}else e({threadKey:b.threadKey});d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},d("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(j.length>1).toString()},threadFbid:b.threadKey}))},overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:o.pinnedMessagesWrapper,children:m.jsxs(c("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:o.row,children:[m.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(c("MWXIconForListCell.react"),{color:"secondary",icon:c("MWXIconPushpin"),size:"medium"})}),m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(c("MWXColumn.react"),{children:[m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:o.rowText,children:m.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:h._("__JHASH__Dezv4EV21yi__JHASH__",[h._param("channel_creator_name",(r==null?void 0:r.senderId)!=null&&(k||(k=d("I64"))).equal(a,r.senderId)?"You":(a=s==null?void 0:s.name)!=null?a:""),h._param("middot",m.jsx(c("BaseMiddot.react"),{}))])})}),m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:o.rowText,children:m.jsx(c("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:t})})]})}),j.length>1&&m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconChevronDown"),size:16})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);