;/*FB_PKG_DELIM*/

__d("PolarisMediaTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a={CAROUSEL:"carousel",CAROUSEL_VIDEO:"carousel_video",IGTV:"igtv",PHOTO:"photo",VIDEO:"video"};c=b("$InternalEnum")({VIDEO_640_HIGH:101,VIDEO_480_HIGH:102,VIDEO_480_LOW:103});d=b("$InternalEnum")({LIVE:"live",FEED:"feed",STORY:"story",DIRECT:"direct",IGTV:"igtv",NAMETAG:"nametag",DIRECT_AUDIO:"direct_audio",CAROUSEL_ITEM:"carousel_item",CAROUSEL_CONTAINER:"carousel_container",PROFILE_PIC:"profile_pic",AD:"ad",AR_EFFECT_PREVIEW:"ar_effect_preview",DIRECT_PERMANENT:"direct_permanent",SELFIE_STICKER:"selfie_sticker",COWATCH_LOCAL:"cowatch_local",CLIPS:"clips",GUIDE_MEDIA_FACADE:"guide_media_facade",FUNDRAISER_COVER:"fundraiser_cover",LIVE_ARCHIVE:"live_archive",HIGHLIGHT_POST_FACADE:"highlight_post_facade",DIRECT_THREAD:"direct_thread",SCHEDULED_LIVE:"scheduled_live",RATINGS_AND_REVIEWS:"ratings_and_reviews",DIRECT_HEADMOJI:"direct_headmoji",CLIPS_PREVIEW:"clips_preview",REPOST_MEDIA_FACADE:"repost_media_facade",STORY_INTERACTION_RESPONSE:"story_interaction_response",MEDIA_KIT:"media_kit",TEXT_POST:"text_post",NOTE_AUDIO:"note_audio",DIRECT_MESSAGE_COMMENT_FACADE:"direct_message_comment_facade"});f.SimplifiedMediaType=a;f.MediaVersionType=c;f.MediaProductType=d}),66);
__d("IGDThreadTTLCUtils",["FBLogger","PolarisMediaTypes","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=i(a);return Boolean(a==null?void 0:(a=a.ttlc_message_type)==null?void 0:a.is_ttlc_enabled)}function h(a,b){if(typeof a==="string"){var c;c=(c=i(a))==null?void 0:c.ttlc_message_type}else c=a;return Boolean((a=c)==null?void 0:(c=a.enabled_ttlc_message_type)==null?void 0:c[b])}function b(a,b){b=d("PolarisMediaTypes").MediaProductType.cast(b);if(b==null)return!1;var c=function(b){return h(a,b)};switch(b){case d("PolarisMediaTypes").MediaProductType.FEED:return c("media_share");case d("PolarisMediaTypes").MediaProductType.CLIPS:return c("clip");case d("PolarisMediaTypes").MediaProductType.STORY:return c("story_share");case d("PolarisMediaTypes").MediaProductType.LIVE:return c("generic_xma");case d("PolarisMediaTypes").MediaProductType.CAROUSEL_CONTAINER:case d("PolarisMediaTypes").MediaProductType.AD:default:return!1}}function i(a){var b=c("qex")._("426");if(!Boolean(b))return null;if(a==null)return null;try{return JSON.parse(a)}catch(a){c("FBLogger")("igd_web_on_msgr").mustfix("Failed to parse thread metadata, the error is %s.",a)}return null}g.isIGDTTLCEnabled=a;g.isIGDTTLCEnabledForMessageType=h;g.isIGDTTLCEnabledForProductType=b;g.parseIGDThreadMetadata=i}),98);
__d("IGDInstamadilloUtils",["IGDThreadTTLCUtils","LSThreadBitOffset","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return(a==null?void 0:a.transportKey)==="Instamadillo"}function i(a){return a==null?!1:d("LSThreadBitOffset").has(214,a)}function a(a){return a==null?!1:d("LSThreadBitOffset").has(212,a)}function j(a){return a==null?!1:d("LSThreadBitOffset").has(38,a)}function b(a){return a==null?!1:d("LSThreadBitOffset").has(211,a)}function e(a){var b=j(a),e=i(a);a=d("IGDThreadTTLCUtils").isIGDTTLCEnabled(a==null?void 0:a.metadata);b=b&&k();e=(e||a)&&c("qex")._("426")===!0;return b||e}function k(){return c("gkx")("32941")&&c("qex")._("1377")===!0}function f(a,b){a=h(a)&&a.ephemeralExpirationTs!=null;return b&&a||!b&&!a}g.isInstamadilloMessage=h;g.isInstamadilloCutover=i;g.isInstamadilloDMToggleEnabled=a;g.isIGDDisappearingModeEnabled=j;g.isInstamadilloTransportEnabled=b;g.isInstamadilloHardblockEnabled=e;g.isDMHardblockedEnabled=k;g.shouldRenderMessageReply=f}),98);