;/*FB_PKG_DELIM*/

__d("useMWCMPausedChannelMemberDialog.react",["Int64Hooks","JSResourceForInteraction","emptyFunction","getValidMediaURL","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadImageUrl,e=a.threadImageUrlExpirationTimestampMs,f=a.threadImageUrlFallback,g=a.threadTitle;a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCMPausedChannelMemberDialog.react").__setRef("useMWCMPausedChannelMemberDialog.react"));var h=a[0];return d("Int64Hooks").useMemoInt64(function(){if(b==null||f==null||g==null)return[c("emptyFunction"),!1];var a=c("getValidMediaURL")(e,b,f);return[function(){h({threadImageUrl:a,threadTitle:g},c("emptyFunction"))},!0]},[h,b,e,f,g])}g["default"]=a}),98);
__d("MessengerNotificationsWriter",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="mw_notifications_db",i="users_mute";function j(a,b){return{isMuted:b,userId:a}}function a(a,b){var d,e=self.indexedDB.open(h);e.onupgradeneeded=function(){var b=e.result,c=b.createObjectStore(i,{keyPath:"userId"});c.transaction.oncomplete=function(c){c=b.transaction(i,"readwrite").objectStore(i);c=c.add({isMuted:0,userId:a});c.onsuccess=function(){}}};e.onsuccess=function(){d=e.result;var f=d.transaction([i],"readwrite").objectStore(i),g=f.get(a);g.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to get value in db")};g.onsuccess=function(d){d=babelHelpers["extends"]({},d.target.result,j(a,b));d=f.put(d);d.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to write new mute value to db")};d.onsuccess=function(a){}}};e.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to create db")}}g.updateMute=a}),98);
__d("useFetchPendingGroupInvitations",["LSFactory","LSOptimisticFetchPendingGroupInviteStoredProcedure","promiseDone","react","useMigrateURLParamsToRouteParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=(h||(h=c("useReStore")))(),b=c("useMigrateURLParamsToRouteParams")();b=b.link_hash;var d=b!=null?String(b):null;j(function(){d!=null&&c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:d})},"readwrite"))},[a,d]);return d}g.useFetchPendingGroupInvitations=a}),98);
__d("useHandlePublicChatShortlink",["CurrentEnvironment","I64","JSResourceForInteraction","LSIntEnum","ReQL","ReQLSuspense","ThreadStatus","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","react","useCometRouterDispatcher","useMWCMPausedChannelMemberDialog.react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useRef,n=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("useHandlePublicChatShortlink");function a(a){var b=c("useCometRouterDispatcher")(),e=m(!1),g=m(!1),k=(h||(h=c("useReStore")))(),o=c("useMWXLazyDialog")(n),p=o[0],q=d("ReQLSuspense").useFirst(function(){if(a!=null)return d("ReQL").fromTableAscending(k.tables.group_invitations_pending).getKeyRange(a);else return d("ReQL").empty()},[k,a],f.id+":46");o=c("useMWCMPausedChannelMemberDialog.react")({threadImageUrl:q==null?void 0:q.groupImageUrl,threadImageUrlExpirationTimestampMs:q==null?void 0:q.groupImageUrlExpirationTimestampMs,threadImageUrlFallback:q==null?void 0:q.groupImageUrlFallback,threadTitle:q==null?void 0:q.threadTitle});var r=o[0],s=o[1],t=q!=null&&q.threadStatus!=null&&(i||(i=d("I64"))).equal(q.threadStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("ThreadStatus").PAUSED))&&q.linkJoinType!=null&&(i||(i=d("I64"))).equal(q.linkJoinType,(j||(j=d("LSIntEnum"))).ofNumber(5));l(function(){if(q!=null&&(q==null?void 0:q.isSubscribed)){if(q.threadId!=null){var f;c("CurrentEnvironment").messengerdotcom?f=c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(q.threadId)}):f=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(q.threadId)});b==null?void 0:b.go(f,{})}}else t&&!g.current?(r(),s&&(g.current=!0)):q!=null&&(q==null?void 0:q.threadTitle.length)>0&&q.linkJoinType!=null&&!(i||(i=d("I64"))).equal(q.linkJoinType,(j||(j=d("LSIntEnum"))).ofNumber(6))&&a!=null&&!e.current&&!t&&(e.current=!0,p({linkHash:a}))},[a,p,q,b,r,t,s])}g["default"]=a}),98);
__d("MWInboxInfoCopyLinkPublicChat.react",["fbt","I64","LSIntEnum","MWInboxInfoButton.react","MWPBumpEntityKey","MWXIconForListCell.react","MWXIconLink","ReQL","ReQLSuspense","cometPushToast","react","useCopyText","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react")),n=l.useCallback;function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadInviteLink","threadInvitesEnabledV2"]).getKeyRange(b)},[e,b],f.id+":33");var g=a==null?void 0:a.threadInviteLink,l=c("useCopyText")({value:g}),o=l[2];l=n(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),o(),d("cometPushToast").cometPushSimpleToast(h._("__JHASH__NNt0oNKP6tq__JHASH__"))},[o]);if(a==null)return null;a=(j||(j=d("I64"))).equal(a.threadInvitesEnabledV2,(k||(k=d("LSIntEnum"))).ofNumber(1));return g==null||!a?null:m.jsx(c("MWInboxInfoButton.react"),{addOnStart:m.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconLink")}),label:h._("__JHASH__c2UIg9XVAm2__JHASH__"),onPress:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWInboxInfoMemberRequests.react",["fbt","Int64Hooks","MWInboxInfoButton.react","MWInboxInfoMemberRequestsPushPage.react","MWXIconForListCell.react","MWXIconFriendGenericCheckmark","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.pushPage,e=a.thread,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.group_membership_approval_requests,[]).getKeyRange(e.threadKey)},[g,e.threadKey],f.id+":37");a=a.length;var j=d("Int64Hooks").useCallbackInt64(function(a){if(b!=null)return b(function(b){return k.jsx(c("MWInboxInfoMemberRequestsPushPage.react"),{onReturn:b.onReturn,parentSurface:a,threadKey:e.threadKey})})},[b,e.threadKey]);return k.jsx(c("MWInboxInfoButton.react"),{addOnStart:k.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconFriendGenericCheckmark")}),label:h._("__JHASH__4FAWQwvEk9h__JHASH__"),onPress:function(){return j()},subLabel:a>0?h._("__JHASH__8y8AMiPf1gZ__JHASH__",[h._plural(a,"number")]):void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);